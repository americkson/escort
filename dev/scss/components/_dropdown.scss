////////////////////////////////////////////////////////////////////////////////
// Dropdown
// -----------------------------------------------------------------------------
// Dropdown styles

.escort-dropdown {
  position: relative;

  .escort-dropdown-content:not(.escort-active) { // sass-lint:disable-line force-pseudo-nesting
    padding: 0;
    border: 0;
    opacity: 0;
    transition: opacity 200ms, box-shadow 300ms, max-height 200ms, top 300ms, bottom 300ms, padding 200ms, visibility 200ms;
    max-height: 0;
    height: auto !important;
    display: block;
    overflow: hidden;
    visibility: hidden;

    > div {
      white-space: normal;
      line-height: normal;
    }
  }

  &.escort-active {

    .escort-dropdown-content {
      opacity: 1;
      max-height: $base-size-active * 4;
      visibility: visible;
    }
  }
}

/**
 * Top AND Bottom region
 */
@include get-location($type: horizontal) {

  &.icon-only {

    .escort-dropdown.escort-active {

      .has-icon:not(.escort-add):not(.escort-toggle) { // sass-lint:disable-line force-pseudo-nesting

        .escort-content {
          opacity: 1;
          position: relative;
          display: inline;
          background-color: transparent !important;
          padding: 0 !important;
          margin-left: $margin !important;
          min-width: auto;
          height: auto;
          top: auto;
          bottom: auto;
          box-shadow: none;

          &:hover {
            top: auto;
            bottom: auto;
          }

          &::before {
            display: none;
          }
        }
      }
    }
  }

  .escort-dropdown-content {
    position: absolute;
    width: $base-size-active * 0.75;
  }

  .escort-top-right,
  .escort-bottom-right {

    .escort-dropdown-content {
      right: 0;
    }
  }
}

/**
 * Top region
 */
@include get-location($type: horizontal, $region: top) {

  .escort-dropdown {

    &.escort-active {

      .escort-dropdown-content {
        top: 100%;
      }
    }
  }

  .escort-dropdown-content {
    top: 90%;
    box-shadow: 0 3px 6px transparentize($black, 0.75);
    background: smart-scale($bg-color-top, $scale: -12%);
    border-bottom-left-radius: $border-radius;
    border-bottom-right-radius: $border-radius;
  }
}

/**
 * Bottom region
 */
@include get-location($type: horizontal, $region: bottom) {

  .escort-dropdown {

    &.escort-active {

      .escort-dropdown-content {
        bottom: 100%;
      }
    }
  }

  .escort-dropdown-content {
    bottom: 90%;
    box-shadow: 0 -3px 6px transparentize($black, 0.75);
    background: smart-scale($bg-color-bottom, $scale: -12%);
    border-top-left-radius: $border-radius;
    border-top-right-radius: $border-radius;
  }
}


/**
 * Left AND Right region only
 */
@include get-location($type: vertical) {

  // .escort-dropdown {

  //   &.escort-active {

  //     .escort-dropdown-trigger {
  //       border: 0;
  //     }
  //   }
  // }

  .escort-dropdown-content {
    width: 100%;
    border-color: transparent;
  }
}

/**
 * Left region
 */
@include get-location($type: vertical, $region: left) {

  .escort-dropdown {

    &.escort-active {

      .escort-dropdown-content {
        border-top: 1px solid darken($bg-color-left, 10%);
        box-shadow: inset 0 0 30px darken($bg-color-left, 15%);
      }
    }
  }

  .escort-dropdown-content {
    background: smart-scale($bg-color-left, $scale: -12%);
    box-shadow: inset 0 0 10px darken($bg-color-left, 8%);
  }
}

/**
 * Right region
 */
@include get-location($type: vertical, $region: right) {

  .escort-dropdown {

    &.escort-active {

      .escort-dropdown-content {
        border-top: 1px solid darken($bg-color-right, 10%);
        box-shadow: inset 0 0 30px darken($bg-color-right, 15%);
      }
    }
  }

  .escort-dropdown-content {
    background: smart-scale($bg-color-right, $scale: -12%);
    box-shadow: inset 0 0 10px darken($bg-color-right, 8%);
  }
}
