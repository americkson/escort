!function(i,t){"use strict";function e(t){this.$trigger=i(t),this.region=this.$trigger.data("region"),this.event=this.$trigger.data("event"),this.$region=i("#escort-"+this.region),this.$body=i("body"),this.setup()}i.extend(e,{instances:[]}),i.extend(e.prototype,{lock:!1,mini:!1,full:!1,setup:function(){var t=this;switch(t.event){case"click":t.$trigger.click(function(i){i.preventDefault(),t.full?t.hideFull():t.showFull()});break;default:t.$trigger.hover(function(i){i.preventDefault(),t.showMini()},function(i){i.preventDefault(),t.hideMini()}),t.$trigger.click(function(i){t.full?t.hideFull():t.showFull()}),t.$region.hover(function(e){e.preventDefault(),t.showFull(),t.$body.on("click.escort-"+t.region,function(e){t.full&&!i(e.target).closest(t.$region).length&&t.hideFull()})})}},showMini:function(i){this.mini||(this.mini=!0,this.$body.addClass("show-escort-mini-"+this.region))},hideMini:function(i){this.mini&&(this.mini=!1,this.$body.removeClass("show-escort-mini-"+this.region))},showFull:function(){this.full||(this.full=!0,this.$body.addClass("show-escort-full-"+this.region))},hideFull:function(){this.full&&(this.full=!1,this.$body.removeClass("show-escort-full-"+this.region),this.$body.off("click.escort-"+this.region))}}),Drupal.behaviors.escortToggle={attach:function(t){var o=i(t).find(".escort-toggle").once("escort-toggle").addClass("escort-toggle-processed");if(o.length)for(var s=0;s<o.length;s++)e.instances.push(new e(o[s]))}},Drupal.EscortRegionToggles=e}(jQuery,document);