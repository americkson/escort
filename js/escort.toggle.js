!function(i,e){"use strict";function t(e){this.$trigger=i(e),this.region=this.$trigger.data("region"),this.event=this.$trigger.data("event"),this.$region=i("#escort-"+this.region),this.$body=i("body"),this.setup()}i.extend(t,{instances:[]}),i.extend(t.prototype,{lock:!1,mini:!1,setup:function(){var i=this;switch(i.$region.addClass("escort-instant"),i.event){case"click":i.$trigger.click(function(e){e.preventDefault(),i.showMini()}),i.$trigger.on("mouseleave",function(e){i.mini&&i.hideMini()});break;default:i.$trigger.hover(function(e){e.preventDefault(),i.showMini()},function(e){e.preventDefault(),i.hideMini()})}},showMini:function(i){var e=this;e.mini||(e.mini=!0,e.$body.addClass("show-escort-mini-"+e.region),e.$body.trigger("escort-toggle-mini:show",[e.$region]))},hideMini:function(i){var e=this;e.mini&&(e.mini=!1,e.$body.removeClass("show-escort-mini-"+e.region),e.$body.trigger("escort-region-mini:hide",[e.$region]))}}),Drupal.behaviors.escortToggle={attach:function(e){var n=i(e).find(".escort-toggle").once("escort-toggle").addClass("escort-toggle-processed");if(n.length)for(var o=0;o<n.length;o++)t.instances.push(new t(n[o]))}},Drupal.EscortRegionToggles=t}(jQuery,document);