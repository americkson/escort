!function(t,o,e){"use strict";e.behaviors.escortAdminSort={attach:function(o,r){function s(o,r){if(!a){a=!0;var s,n={};c.each(function(){s=t(this).data("escort-region"),t(this).find(".escort-sortable").each(function(o){n[t(this).data("escort-id")]={region:s,weight:o}})}),t.ajax({url:e.url("admin/config/escort/update"),type:"POST",data:JSON.stringify(n),dataType:"json",success:function(t){}}),setTimeout(function(){a=!1},10)}}var c=t(".escort-sort",o),n=c.once("escort-admin-sort"),a=!1;n.length&&n.sortable({items:".escort-sortable",connectWith:".escort-sort",placeholder:"escort-placeholder",forcePlaceholderSize:!0,helper:"clone",appendTo:t("body"),handle:".drag",opacity:.5,scroll:!1,start:function(){t("body").addClass("escort-sorting")},stop:function(){t("body").removeClass("escort-sorting")},update:s}).disableSelection()}}}(jQuery,window,Drupal);