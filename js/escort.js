!function(e,o,t){"use strict";function i(o){this.$region=e(o),this.region=this.$region.data("region"),this.$body=e("body"),this.setup()}e.extend(i,{instances:[]}),e.extend(i.prototype,{active:!1,setup:function(){var e=this;if(e.$region.find(".escort-item").length){var t,i;e.$region.filter(".escort-vertical").on("mouseenter.escort",function(o){o.preventDefault(),i=e.$region.hasClass("escort-instant")?0:300,t=setTimeout(function(){e.showFull()},i)}).on("mouseleave.escort",function(e){e.preventDefault(),clearTimeout(t)})}else e.$region.remove(),e.$body.removeClass("has-escort-"+this.region),o.displace(!0)},showFull:function(){var o=this;o.active||(o.active=!0,o.$body.addClass("show-escort-full-"+o.region),o.$body.on("click.escort-"+o.region,function(t){o.active&&!e(t.target).closest(o.$region).length&&o.hideFull()}),o.$region.trigger("escort-region-full:show",[o.$region]),o.$body.trigger("escort-region:show",[o.$region]))},hideFull:function(){var e=this;e.active&&(e.active=!1,e.$body.removeClass("show-escort-full-"+e.region),e.$body.off("click.escort-"+e.region),e.$region.trigger("escort-region-full:hide",[e.$region]),e.$body.trigger("escort-region:hide",[e.$region]))}}),o.behaviors.escort={attach:function(o){var t=e(o).find(".escort-region").once("escort-region").addClass("escort-region-processed");if(t.length){for(var r=0;r<t.length;r++)i.instances.push(new i(t[r]));setTimeout(function(){e("body").addClass("escort-ready")},10)}}},o.Escort=i}(jQuery,Drupal,Drupal.displace);